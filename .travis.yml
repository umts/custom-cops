language: ruby
rvm:
  - 2.1.9
  - 2.2.10
  - 2.3.8
  - 2.4.5
  - 2.5.3
  - 2.6.1
env: CODECLIMATE_REPO_TOKEN=c356c22cc5b342d3cba9a1fb9d71b63b52de9b9daa1f54c07f959f90da05c8ff
matrix:
  include:
    - rvm: 2.1.9
      env: BUNDLER_VERSION='<2'
    - rvm: 2.6.1
      env: BUNDLER_VERSION='>=2'
before_install: gem install bundler -v $BUNDLER_VERSION
script: 
  - bundle exec rake
  - bundle exec codeclimate-test-reporter
notifications:
  email:
    recipients:
      - transit-it@admin.umass.edu
